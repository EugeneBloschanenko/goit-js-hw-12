{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nimport axios from \"axios\";\n\nconst loader = document.querySelector('.loader');\n\nconst API_KEY = \"49108908-dee8565c8232193f8d4c70c7a\";\nconst BASE_URL = \"https://pixabay.com/api/\";\n\nfunction showLoader() {\n  loader.style.display = 'inline-block';\n}\n\nfunction hideLoader() {\n  loader.style.display = 'none';  \n}\n\nexport function fetchImages(query) {\n\n    showLoader();\n\n  const params = {\n    key: API_KEY,\n    q: query,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n  };\n\n  return axios\n    .get(BASE_URL, { params })\n    .then((response) => response.data.hits)\n    .catch((error) => {\n        console.error(\"Помилка під час запиту:\", error);\n      return [];\n    })\n    .finally(() => {\n      hideLoader();  \n    });  \n}","\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector('.gallery');\ngallery.classList.add('gallery-style');\n\nexport function renderGallery(images) {\n  const markup = images.map(({ \n    webformatURL, \n    largeImageURL, \n    tags, \n    likes, \n    views, \n    comments, \n    downloads \n  }) => \n  `<li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${largeImageURL}\">\n      <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n    </a>\n    <div class=\"info\">\n      <p class=\"info-item\"><b>Likes</b> <span>${likes}</span></p>\n      <p class=\"info-item\"><b>Views</b> <span>${views}</span></p>\n      <p class=\"info-item\"><b>Comments</b> <span>${comments}</span></p>\n      <p class=\"info-item\"><b>Downloads</b> <span>${downloads}</span></p>\n    </div>\n  </li>` \n  ).join('');\n\n  gallery.innerHTML = markup;\n\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 250,\n    captionPosition: 'bottom',\n  });\n    \n    lightbox.refresh();\n}","\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { fetchImages } from './js/pixabay-api'\nimport {renderGallery} from './js/render-functions'\n\nconst form = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\n\nform.addEventListener('submit', onSearch);\n\nfunction onSearch(e) {\n  e.preventDefault();\n  \n  const searchQuery = e.currentTarget.elements.search.value.trim();\n  if (!searchQuery) {\n      iziToast.error({\n          title: 'Введіть у полі пошуку яке зображення Вас цікавить.',\n          message: '',\n          position: 'topCenter'\n      });\n    return;\n  }\n\n  gallery.innerHTML = '';\n\n  fetchImages(searchQuery)\n    .then(images => {\n      if (images.length === 0) {\n        iziToast.error({\n            title: 'Пошук не дав результатів. Будь ласка, спроуйте ще!',\n            message: '',\n            position: 'topCenter'\n        })\n        return;\n      }\n      renderGallery(images);\n    })\n    .catch(error => {\n      console.error('Під час запиту сталася наступна помилка:', error);\n      iziToast.error({\n            title: 'Сталася помилка! Повторіть спробу пізніше.',\n            message: `${error}`,\n            position: 'topCenter'\n        })\n    });\n\n  form.reset();\n}"],"names":["loader","API_KEY","BASE_URL","showLoader","hideLoader","fetchImages","query","params","axios","response","error","gallery","renderGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","form","onSearch","e","searchQuery","iziToast"],"mappings":"owBAGA,MAAMA,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAU,qCACVC,EAAW,2BAEjB,SAASC,GAAa,CACpBH,EAAO,MAAM,QAAU,cACzB,CAEA,SAASI,GAAa,CACpBJ,EAAO,MAAM,QAAU,MACzB,CAEO,SAASK,EAAYC,EAAO,CAE/BH,IAEF,MAAMI,EAAS,CACb,IAAKN,EACL,EAAGK,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EAEE,OAAOE,EACJ,IAAIN,EAAU,CAAE,OAAAK,EAAQ,EACxB,KAAME,GAAaA,EAAS,KAAK,IAAI,EACrC,MAAOC,IACJ,QAAQ,MAAM,0BAA2BA,CAAK,EACzC,GACR,EACA,QAAQ,IAAM,CACbN,GACN,CAAK,CACL,CClCA,MAAMO,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAU,IAAI,eAAe,EAE9B,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EAAO,IAAI,CAAC,CACzB,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACD;AAAA,oCACkCL,CAAa;AAAA,wCACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,gDAGlBC,CAAK;AAAA,gDACLC,CAAK;AAAA,mDACFC,CAAQ;AAAA,oDACPC,CAAS;AAAA;AAAA,QAG7D,EAAI,KAAK,EAAE,EAETV,EAAQ,UAAYG,EAEH,IAAIQ,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,MACd,aAAc,IACd,gBAAiB,QACrB,CAAG,EAEU,QAAO,CACpB,CCjCA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CZ,EAAU,SAAS,cAAc,UAAU,EAEjDY,EAAK,iBAAiB,SAAUC,CAAQ,EAExC,SAASA,EAASC,EAAG,CACnBA,EAAE,eAAc,EAEhB,MAAMC,EAAcD,EAAE,cAAc,SAAS,OAAO,MAAM,OAC1D,GAAI,CAACC,EAAa,CACdC,EAAS,MAAM,CACX,MAAO,qDACP,QAAS,GACT,SAAU,WACpB,CAAO,EACH,MACD,CAEDhB,EAAQ,UAAY,GAEpBN,EAAYqB,CAAW,EACpB,KAAKb,GAAU,CACd,GAAIA,EAAO,SAAW,EAAG,CACvBc,EAAS,MAAM,CACX,MAAO,qDACP,QAAS,GACT,SAAU,WACtB,CAAS,EACD,MACD,CACDf,EAAcC,CAAM,CAC1B,CAAK,EACA,MAAMH,GAAS,CACd,QAAQ,MAAM,2CAA4CA,CAAK,EAC/DiB,EAAS,MAAM,CACT,MAAO,6CACP,QAAS,GAAGjB,CAAK,GACjB,SAAU,WACtB,CAAS,CACT,CAAK,EAEHa,EAAK,MAAK,CACZ"}